<div class="layout" role="application" aria-label="SmartAsset Console">
  <!-- ───────── Sidebar ───────── -->
  <aside class="sidebar" aria-label="Primary">
    <!-- Brand: glass plate + centered logo -->
    <div class="brand" aria-label="SmartAsset">
      <div class="logo-plate" aria-hidden="true"></div>
      <img
        class="brand-logo"
        src="assets/images/smart_assest.png"
        alt="SmartAsset"
        decoding="async"
        draggable="false"
      />
    </div>

    <!-- Navigation -->
    <nav class="menu" aria-label="Main navigation">
      <!-- routerLinkActive adds 'active' class + aria-current for A11y -->
      <a routerLink="/dashboard"   routerLinkActive="active" [routerLinkActiveOptions]="{ exact:true }">Dashboard</a>
      <a routerLink="/assets"      routerLinkActive="active">Assets</a>
      <a routerLink="/maintenance" routerLinkActive="active">Maintenance</a>
      <a routerLink="/reports"     routerLinkActive="active">Reports</a>
      <a routerLink="/qr-scan"     routerLinkActive="active">QR Scan</a>

      <!-- Admin-only -->
      <a *ngIf="isAdmin()" routerLink="/users" routerLinkActive="active">Users</a>
    </nav>
  </aside>

  <!-- ───────── Main ───────── -->
  <main class="main" role="main">
    <!-- Topbar -->
    <header class="topbar">
      <div class="greet">
        <h1 class="app-title">SmartAsset Console</h1>

        <!-- Friendly sub-greeting -->
        <div class="sub">
          Hello, <b class="name">{{ userName() || 'User' }}</b>
          <span class="role-chip" [attr.data-role]="role()">{{ role() || '' }}</span>
        </div>
      </div>

      <!-- Account / actions -->
      <div class="account">
        <div class="avatar" aria-hidden="true">
          {{ initials() }}
        </div>

        <div class="me">
          <div class="name" [title]="userName() || 'User'">{{ userName() || 'User' }}</div>
          <div class="muted">{{ role() || '' }}</div>
        </div>

        <button class="btn btn-danger" (click)="logout()" aria-label="Logout">
          <!-- power icon -->
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
               xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 2v10" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 5.5A8 8 0 1 0 17 5.5" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
          Logout
        </button>
      </div>
    </header>

    <!-- Routed pages -->
    <section class="page-content">
      <router-outlet></router-outlet>
    </section>
  </main>
</div>