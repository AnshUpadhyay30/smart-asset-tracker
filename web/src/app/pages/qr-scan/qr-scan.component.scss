.qr-page {
  --ink-1:#0f172a; --ink-2:#475569; --ink-3:#94a3b8;
  --panel:#fff; --panel-bd:#e9edf5; --shadow:0 14px 34px rgba(2,6,23,.10);
  --brand:#2563eb;

  display:grid; gap:16px;
  padding: clamp(16px, 2.6vw, 28px);
}

/* Breadcrumb */
.crumb{
  font-size:13px; color:var(--ink-3);
  display:flex; align-items:center; gap:.4rem;
  .brand{color:var(--brand); font-weight:700;}
  .page{color:var(--ink-1); font-weight:600;}
  .sep{opacity:.6;}
}

/* Header */
.head{
  display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center;
  .title{ display:flex; align-items:center; gap:12px;
    .glyph{ width:40px;height:40px; display:grid;place-items:center; border-radius:12px;
      background:linear-gradient(135deg,#3b82f6,#2563eb); color:#fff;
      box-shadow:0 10px 24px rgba(37,99,235,.28);
      mat-icon{ font-size:22px; }
    }
    .stack{
      h2{ margin:0; font-size: clamp(20px,2.2vw,28px); color:var(--ink-1); font-weight:800; }
      .sub{ color:var(--ink-2); }
    }
  }
  .right{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .devpick{ width:min(360px,42vw); }

  .btn-outline{
    border-radius:12px; font-weight:700; letter-spacing:.2px;
    border:1px solid var(--panel-bd); background:#fff;
    box-shadow:0 8px 18px rgba(2,6,23,.06), inset 0 1px 0 rgba(255,255,255,.6);
    mat-icon{ font-size:18px; margin-right:6px; }
  }
  .btn-primary{
    display:inline-flex; align-items:center; gap:8px; cursor:pointer;
    padding:0 18px; height:40px; border-radius:12px;
    box-shadow:0 12px 26px rgba(37,99,235,.25), inset 0 1px 0 rgba(255,255,255,.28);
    transition:transform .06s ease, box-shadow .2s ease, filter .2s ease;
    &:hover{ transform:translateY(-1px); filter:saturate(1.03); }
    mat-icon{ font-size:18px; }
  }
}

/* Panels */
.panel{
  background:var(--panel);
  border:1px solid var(--panel-bd);
  border-radius:16px;
  box-shadow:var(--shadow);
  overflow:hidden;
}
.panel-head{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px 16px; border-bottom:1px solid var(--panel-bd);
  h3{ margin:0; font-size: clamp(18px,2vw,22px); color:var(--ink-1); }
}
.panel-body{ padding:14px 16px; }
.panel-body.no-top-pad{ padding-top:8px; }

/* Status */
.status{
  padding:10px 12px; border:1px solid #f5c6cb; background:#fdecea;
  color:#b42318; border-radius:12px;
}

/* Scanner */
.scanner{
  position:relative; background:#000; border-radius:14px; overflow:hidden;
  zxing-scanner{
    display:block; width:100%;
    height: clamp(320px, 48vh, 640px);
    video,canvas{ width:100%; height:100%; object-fit:cover; }
  }
  .overlay{ position:absolute; inset:0; pointer-events:none; }
  .frame{
    position:absolute; inset: 12% 16%;
    border:3px solid rgba(255,255,255,.96);
    border-radius:18px;
    box-shadow:0 0 0 2px rgba(0,0,0,.20) inset, inset 0 0 0 9999px rgba(0,0,0,.35);
    animation:framePulse 2.2s ease-in-out infinite;
  }
  .toolbelt{ position:absolute; bottom:14px; left:14px; display:flex; gap:10px; pointer-events:auto; }
}
@keyframes framePulse{
  0%,100%{ box-shadow: inset 0 0 0 9999px rgba(0,0,0,.35);}
  50%    { box-shadow: inset 0 0 0 9999px rgba(0,0,0,.25);}
}

/* Result */
.err{
  color:#b42318; background:#fde6e6; border:1px solid #f0b3b3;
  padding:8px 10px; border-radius:10px; margin-bottom:10px;
}
.asset-card{
  border-radius:16px;
  .rows{ display:grid; gap:8px; grid-template-columns:repeat(3,minmax(0,1fr)); }
  .qr-img{
    margin-top:12px; width:160px; height:160px; object-fit:contain;
    filter: drop-shadow(0 8px 18px rgba(0,0,0,.15));
    border-radius:8px; background:#fff; padding:8px;
  }
}
.last{ margin-top:6px; color:var(--ink-2); }

/* Responsive */
@media (max-width: 900px){
  .head{ grid-template-columns:1fr; }
  .asset-card .rows{ grid-template-columns:1fr; }
  .scanner .frame{ inset:10% 10%; }
}